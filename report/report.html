<!DOCTYPE html>
<!-- saved from url=(0022)http://localhost:6419/ -->
<html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  
  <title>report.md - Grip</title>
  <link rel="icon" href="http://localhost:6419/__/grip/static/favicon.ico">
  <link rel="stylesheet" href="./report_files/frameworks-481a47a96965f6706fb41bae0d14b09a.css">
  <link rel="stylesheet" href="./report_files/github-3d951771a4ed5753620b461a24fd4154.css">
  <link rel="stylesheet" href="./report_files/site-d3c48f1b58ea95d9efb184fd4592b411.css">
  <link rel="stylesheet" href="./report_files/octicons.css">
  <style>
    /* Page tweaks */
    .preview-page {
      margin-top: 64px;
    }
    /* User-content tweaks */
    .timeline-comment-wrapper > .timeline-comment:after,
    .timeline-comment-wrapper > .timeline-comment:before {
      content: none;
    }
    /* User-content overrides */
    .discussion-timeline.wide {
      width: 920px;
    }
  </style>
<style data-styled="" data-styled-version="4.4.1"></style><style type="text/css">
@font-face {
  font-weight: 400;
  font-style:  normal;
  font-family: 'Inter-Loom';

  src: url('https://cdn.loom.com/assets/fonts/inter/Inter-UI-Regular.woff2') format('woff2');
}
@font-face {
  font-weight: 400;
  font-style:  italic;
  font-family: 'Inter-Loom';

  src: url('https://cdn.loom.com/assets/fonts/inter/Inter-UI-Italic.woff2') format('woff2');
}

@font-face {
  font-weight: 500;
  font-style:  normal;
  font-family: 'Inter-Loom';

  src: url('https://cdn.loom.com/assets/fonts/inter/Inter-UI-Medium.woff2') format('woff2');
}
@font-face {
  font-weight: 500;
  font-style:  italic;
  font-family: 'Inter-Loom';

  src: url('https://cdn.loom.com/assets/fonts/inter/Inter-UI-MediumItalic.woff2') format('woff2');
}

@font-face {
  font-weight: 700;
  font-style:  normal;
  font-family: 'Inter-Loom';

  src: url('https://cdn.loom.com/assets/fonts/inter/Inter-UI-Bold.woff2') format('woff2');
}
@font-face {
  font-weight: 700;
  font-style:  italic;
  font-family: 'Inter-Loom';

  src: url('https://cdn.loom.com/assets/fonts/inter/Inter-UI-BoldItalic.woff2') format('woff2');
}

@font-face {
  font-weight: 900;
  font-style:  normal;
  font-family: 'Inter-Loom';

  src: url('https://cdn.loom.com/assets/fonts/inter/Inter-UI-Black.woff2') format('woff2');
}
@font-face {
  font-weight: 900;
  font-style:  italic;
  font-family: 'Inter-Loom';

  src: url('https://cdn.loom.com/assets/fonts/inter/Inter-UI-BlackItalic.woff2') format('woff2');
}</style></head>
<body class="js-focus-visible">
  <div class="page">
    <div id="preview-page" class="preview-page" data-autorefresh-url="/__/grip/refresh/">

    

      <div role="main" class="main-content">
        <div class="container new-discussion-timeline experiment-repo-nav">
          <div class="repository-content">
            <div id="readme" class="readme boxed-group clearfix announce instapaper_body md">
              
                <h3>
                  <span class="octicon octicon-book"></span>
                  report.md
                </h3>
              
              <article class="markdown-body entry-content" itemprop="text" id="grip-content">
                <h1>
<a id="user-content-report-ue5" class="anchor" href="http://localhost:6419/#report-ue5" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Report UE5</h1>
<h2>
<a id="user-content-authors" class="anchor" href="http://localhost:6419/#authors" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Authors</h2>
<ul>
<li>Lucas LUGAO GUIMARAES</li>
<li>Victor Hugo VIANNA SILVA</li>
</ul>
<h2>
<a id="user-content-grammar-counts-q1" class="anchor" href="http://localhost:6419/#grammar-counts-q1" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Grammar counts (Q1)</h2>
<h3>
<a id="user-content-tree" class="anchor" href="http://localhost:6419/#tree" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Tree</h3>
<table>
<thead>
<tr>
<th>n</th>
<th>Tree</th>
<th>Node</th>
<th>Leaf</th>
</tr>
</thead>
<tbody>
<tr>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
</tr>
<tr>
<td>1</td>
<td>1</td>
<td>0</td>
<td>1</td>
</tr>
<tr>
<td>2</td>
<td>1</td>
<td>1</td>
<td>0</td>
</tr>
<tr>
<td>3</td>
<td>2</td>
<td>2</td>
<td>0</td>
</tr>
<tr>
<td>4</td>
<td>5</td>
<td>5</td>
<td>0</td>
</tr>
<tr>
<td>5</td>
<td>14</td>
<td>14</td>
<td>0</td>
</tr>
<tr>
<td>6</td>
<td>42</td>
<td>42</td>
<td>0</td>
</tr>
<tr>
<td>7</td>
<td>132</td>
<td>132</td>
<td>0</td>
</tr>
<tr>
<td>8</td>
<td>429</td>
<td>429</td>
<td>0</td>
</tr>
<tr>
<td>9</td>
<td>1430</td>
<td>1430</td>
<td>0</td>
</tr>
<tr>
<td>10</td>
<td>4862</td>
<td>4862</td>
<td>0</td>
</tr>
</tbody>
</table>
<h3>
<a id="user-content-fibonacci" class="anchor" href="http://localhost:6419/#fibonacci" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Fibonacci</h3>
<table>
<thead>
<tr>
<th>n</th>
<th>Fib</th>
<th>Cas1</th>
<th>Cas2</th>
<th>Vide</th>
<th>CasAu</th>
<th>AtomA</th>
<th>AtomB</th>
<th>CasBAu</th>
</tr>
</thead>
<tbody>
<tr>
<td>0</td>
<td>1</td>
<td>0</td>
<td>0</td>
<td>1</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
</tr>
<tr>
<td>1</td>
<td>2</td>
<td>2</td>
<td>1</td>
<td>0</td>
<td>1</td>
<td>1</td>
<td>1</td>
<td>0</td>
</tr>
<tr>
<td>2</td>
<td>3</td>
<td>3</td>
<td>1</td>
<td>0</td>
<td>2</td>
<td>0</td>
<td>0</td>
<td>1</td>
</tr>
<tr>
<td>3</td>
<td>5</td>
<td>5</td>
<td>2</td>
<td>0</td>
<td>3</td>
<td>0</td>
<td>0</td>
<td>2</td>
</tr>
<tr>
<td>4</td>
<td>8</td>
<td>8</td>
<td>3</td>
<td>0</td>
<td>5</td>
<td>0</td>
<td>0</td>
<td>3</td>
</tr>
<tr>
<td>5</td>
<td>13</td>
<td>13</td>
<td>5</td>
<td>0</td>
<td>8</td>
<td>0</td>
<td>0</td>
<td>5</td>
</tr>
<tr>
<td>6</td>
<td>21</td>
<td>21</td>
<td>8</td>
<td>0</td>
<td>13</td>
<td>0</td>
<td>0</td>
<td>8</td>
</tr>
<tr>
<td>7</td>
<td>34</td>
<td>34</td>
<td>13</td>
<td>0</td>
<td>21</td>
<td>0</td>
<td>0</td>
<td>13</td>
</tr>
<tr>
<td>8</td>
<td>55</td>
<td>55</td>
<td>21</td>
<td>0</td>
<td>34</td>
<td>0</td>
<td>0</td>
<td>21</td>
</tr>
<tr>
<td>9</td>
<td>89</td>
<td>89</td>
<td>34</td>
<td>0</td>
<td>55</td>
<td>0</td>
<td>0</td>
<td>34</td>
</tr>
<tr>
<td>10</td>
<td>144</td>
<td>144</td>
<td>55</td>
<td>0</td>
<td>89</td>
<td>0</td>
<td>0</td>
<td>55</td>
</tr>
</tbody>
</table>
<h2>
<a id="user-content-grammar-definitions-q2-q6" class="anchor" href="http://localhost:6419/#grammar-definitions-q2-q6" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Grammar definitions (Q2-Q6)</h2>
<div class="highlight highlight-source-python"><pre>treeGram <span class="pl-k">=</span> {
    <span class="pl-s"><span class="pl-pds">"</span>Tree<span class="pl-pds">"</span></span>: UnionRule(<span class="pl-s"><span class="pl-pds">"</span>Node<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>Leaf<span class="pl-pds">"</span></span>),
    <span class="pl-s"><span class="pl-pds">"</span>Node<span class="pl-pds">"</span></span>: ProductRule(<span class="pl-s"><span class="pl-pds">"</span>Tree<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>Tree<span class="pl-pds">"</span></span>, <span class="pl-k">lambda</span> <span class="pl-smi">a</span>: <span class="pl-s"><span class="pl-pds">"</span>Node(<span class="pl-c1">{}</span>,<span class="pl-c1">{}</span>)<span class="pl-pds">"</span></span>.format(<span class="pl-k">*</span>a)),
    <span class="pl-s"><span class="pl-pds">"</span>Leaf<span class="pl-pds">"</span></span>: SingletonRule(<span class="pl-s"><span class="pl-pds">"</span>Leaf<span class="pl-pds">"</span></span>),
}

fiboGram <span class="pl-k">=</span> {
    <span class="pl-s"><span class="pl-pds">"</span>Fib<span class="pl-pds">"</span></span>: UnionRule(<span class="pl-s"><span class="pl-pds">"</span>Vide<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>Cas1<span class="pl-pds">"</span></span>),
    <span class="pl-s"><span class="pl-pds">"</span>Cas1<span class="pl-pds">"</span></span>: UnionRule(<span class="pl-s"><span class="pl-pds">"</span>CasAu<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>Cas2<span class="pl-pds">"</span></span>),
    <span class="pl-s"><span class="pl-pds">"</span>Cas2<span class="pl-pds">"</span></span>: UnionRule(<span class="pl-s"><span class="pl-pds">"</span>AtomB<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>CasBAu<span class="pl-pds">"</span></span>),
    <span class="pl-s"><span class="pl-pds">"</span>Vide<span class="pl-pds">"</span></span>: EpsilonRule(<span class="pl-s"><span class="pl-pds">"</span><span class="pl-pds">"</span></span>),
    <span class="pl-s"><span class="pl-pds">"</span>CasAu<span class="pl-pds">"</span></span>: ProductRule(<span class="pl-s"><span class="pl-pds">"</span>AtomA<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>Fib<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span><span class="pl-pds">"</span></span>.join),
    <span class="pl-s"><span class="pl-pds">"</span>AtomA<span class="pl-pds">"</span></span>: SingletonRule(<span class="pl-s"><span class="pl-pds">"</span>A<span class="pl-pds">"</span></span>),
    <span class="pl-s"><span class="pl-pds">"</span>AtomB<span class="pl-pds">"</span></span>: SingletonRule(<span class="pl-s"><span class="pl-pds">"</span>B<span class="pl-pds">"</span></span>),
    <span class="pl-s"><span class="pl-pds">"</span>CasBAu<span class="pl-pds">"</span></span>: ProductRule(<span class="pl-s"><span class="pl-pds">"</span>AtomB<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>CasAu<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span><span class="pl-pds">"</span></span>.join),
}</pre></div>
<h3>
<a id="user-content-ab-grammar" class="anchor" href="http://localhost:6419/#ab-grammar" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>AB Grammar</h3>
<p>À partir de l'automate:</p>
<pre><code>           +--A--+
           v     |
         +--------+
Start -&gt; |  Word  | 
         +--------+ 
           ^     |
           +--B--+
</code></pre>
<pre><code>Word = Empty U (A X Word) U (B X Word)
</code></pre>
<div class="highlight highlight-source-python"><pre>abGram <span class="pl-k">=</span> {
    <span class="pl-s"><span class="pl-pds">"</span>E<span class="pl-pds">"</span></span>: EpsilonRule(<span class="pl-s"><span class="pl-pds">"</span><span class="pl-pds">"</span></span>),
    <span class="pl-s"><span class="pl-pds">"</span>A<span class="pl-pds">"</span></span>: SingletonRule(<span class="pl-s"><span class="pl-pds">"</span>A<span class="pl-pds">"</span></span>),
    <span class="pl-s"><span class="pl-pds">"</span>B<span class="pl-pds">"</span></span>: SingletonRule(<span class="pl-s"><span class="pl-pds">"</span>B<span class="pl-pds">"</span></span>),
    <span class="pl-s"><span class="pl-pds">"</span>W<span class="pl-pds">"</span></span>: UnionRule(<span class="pl-s"><span class="pl-pds">"</span>AW|BW<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>E<span class="pl-pds">"</span></span>, <span class="pl-k">lambda</span> <span class="pl-smi">obj</span>: <span class="pl-c1">len</span>(obj) <span class="pl-k">&gt;</span> <span class="pl-c1">0</span>),
    <span class="pl-s"><span class="pl-pds">"</span>AW<span class="pl-pds">"</span></span>: ProductRule(<span class="pl-s"><span class="pl-pds">"</span>A<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>W<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span><span class="pl-pds">"</span></span>.join, <span class="pl-k">lambda</span> <span class="pl-smi">obj</span>: (obj[<span class="pl-c1">0</span>], obj[<span class="pl-c1">1</span>:])),
    <span class="pl-s"><span class="pl-pds">"</span>BW<span class="pl-pds">"</span></span>: ProductRule(<span class="pl-s"><span class="pl-pds">"</span>B<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>W<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span><span class="pl-pds">"</span></span>.join, <span class="pl-k">lambda</span> <span class="pl-smi">obj</span>: (obj[<span class="pl-c1">0</span>], obj[<span class="pl-c1">1</span>:])),
    <span class="pl-s"><span class="pl-pds">"</span>AW|BW<span class="pl-pds">"</span></span>: UnionRule(<span class="pl-s"><span class="pl-pds">"</span>AW<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>BW<span class="pl-pds">"</span></span>, <span class="pl-k">lambda</span> <span class="pl-smi">obj</span>: obj[<span class="pl-c1">0</span>] <span class="pl-k">==</span> <span class="pl-s"><span class="pl-pds">"</span>A<span class="pl-pds">"</span></span>),
}

</pre></div>
<h3>
<a id="user-content-dyck-grammar" class="anchor" href="http://localhost:6419/#dyck-grammar" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Dyck Grammar</h3>
<pre><code>Word = Empty U "(" X Word X ")" X Word
</code></pre>
<div class="highlight highlight-source-python"><pre><span class="pl-k">def</span> <span class="pl-en">split_on_acc</span>(<span class="pl-smi">obj</span>, <span class="pl-smi">add_on</span><span class="pl-k">=</span><span class="pl-s"><span class="pl-pds">"</span>A<span class="pl-pds">"</span></span>, <span class="pl-smi">cut_val</span><span class="pl-k">=</span><span class="pl-c1">1</span>):
    n <span class="pl-k">=</span> <span class="pl-c1">0</span>
    <span class="pl-k">for</span> i, e <span class="pl-k">in</span> <span class="pl-c1">enumerate</span>(obj):
        n <span class="pl-k">+=</span> <span class="pl-c1">1</span> <span class="pl-k">if</span> e <span class="pl-k">==</span> add_on <span class="pl-k">else</span> <span class="pl-k">-</span><span class="pl-c1">1</span>
        <span class="pl-k">if</span> n <span class="pl-k">==</span> cut_val:
            <span class="pl-k">return</span> (obj[: i <span class="pl-k">+</span> <span class="pl-c1">1</span>], obj[i <span class="pl-k">+</span> <span class="pl-c1">1</span> :])


dyckGram <span class="pl-k">=</span> {
    <span class="pl-s"><span class="pl-pds">"</span>E<span class="pl-pds">"</span></span>: EpsilonRule(<span class="pl-s"><span class="pl-pds">"</span><span class="pl-pds">"</span></span>),
    <span class="pl-s"><span class="pl-pds">"</span>(<span class="pl-pds">"</span></span>: SingletonRule(<span class="pl-s"><span class="pl-pds">"</span>(<span class="pl-pds">"</span></span>),
    <span class="pl-s"><span class="pl-pds">"</span>)<span class="pl-pds">"</span></span>: SingletonRule(<span class="pl-s"><span class="pl-pds">"</span>)<span class="pl-pds">"</span></span>),
    <span class="pl-s"><span class="pl-pds">"</span>W<span class="pl-pds">"</span></span>: UnionRule(<span class="pl-s"><span class="pl-pds">"</span>E<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>(W)W<span class="pl-pds">"</span></span>, <span class="pl-k">lambda</span> <span class="pl-smi">obj</span>: <span class="pl-c1">len</span>(obj) <span class="pl-k">==</span> <span class="pl-c1">0</span>),
    <span class="pl-s"><span class="pl-pds">"</span>(W)W<span class="pl-pds">"</span></span>: ProductRule(<span class="pl-s"><span class="pl-pds">"</span>(W)<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>W<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span><span class="pl-pds">"</span></span>.join, <span class="pl-k">lambda</span> <span class="pl-smi">obj</span>: split_on_acc(obj, <span class="pl-s"><span class="pl-pds">"</span>(<span class="pl-pds">"</span></span>, <span class="pl-c1">0</span>)),
    <span class="pl-s"><span class="pl-pds">"</span>(W)<span class="pl-pds">"</span></span>: ProductRule(<span class="pl-s"><span class="pl-pds">"</span>(W<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>)<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span><span class="pl-pds">"</span></span>.join, <span class="pl-k">lambda</span> <span class="pl-smi">obj</span>: (obj[:<span class="pl-k">-</span><span class="pl-c1">1</span>], obj[<span class="pl-k">-</span><span class="pl-c1">1</span>])),
    <span class="pl-s"><span class="pl-pds">"</span>(W<span class="pl-pds">"</span></span>: ProductRule(<span class="pl-s"><span class="pl-pds">"</span>(<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>W<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span><span class="pl-pds">"</span></span>.join, <span class="pl-k">lambda</span> <span class="pl-smi">obj</span>: (obj[<span class="pl-c1">0</span>], obj[<span class="pl-c1">1</span>:])),
}
</pre></div>
<h3>
<a id="user-content-max-3-grammar" class="anchor" href="http://localhost:6419/#max-3-grammar" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Max 3 Grammar</h3>
<pre><code>                    +---------+          +----------+
              A---&gt; + First A + ---A---&gt; + Second A |
              +     +-+--+--+-+          +---+------+
              |       ^  |  ^                |
         +----+---+   |  |  +------A-----------+
Start -&gt; |  Word  |   A  B                   | |
         +----+---+   |  |  +------B---------+ |
              |       |  v  v                  |
              +     +-+--+--+-+          +-----+----+
              B---&gt; + First B + ---B---&gt; + Second B |
                    +---------+          +----------+

</code></pre>
<p>À partir de l'automate fini décrit par le schema on obtient:</p>
<pre><code>Word = Empty U (A X First A) U (B X First B)
First A = Empty U (A X Second A) U (B X First B)
First B = Empty U (B X Second B) U (A X First A)
Second A = Empty U (B X First B) 
Second B = Empty U (A X First A)
</code></pre>
<p>Ou plus simple:</p>
<pre><code>Word = Empty U First A U First B
First A = A X (Empty U Second A U First B)
First B = B X (Empty U Second B U First A)
Second A = A X (Empty U First B)
Second B = B X (Empty U First A)
</code></pre>
<div class="highlight highlight-source-python"><pre>max3Gram <span class="pl-k">=</span> {
    <span class="pl-s"><span class="pl-pds">"</span>E<span class="pl-pds">"</span></span>: EpsilonRule(<span class="pl-s"><span class="pl-pds">"</span><span class="pl-pds">"</span></span>),
    <span class="pl-s"><span class="pl-pds">"</span>A<span class="pl-pds">"</span></span>: SingletonRule(<span class="pl-s"><span class="pl-pds">"</span>A<span class="pl-pds">"</span></span>),
    <span class="pl-s"><span class="pl-pds">"</span>B<span class="pl-pds">"</span></span>: SingletonRule(<span class="pl-s"><span class="pl-pds">"</span>B<span class="pl-pds">"</span></span>),
    <span class="pl-s"><span class="pl-pds">"</span>W<span class="pl-pds">"</span></span>: UnionRule(<span class="pl-s"><span class="pl-pds">"</span>E<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>A1|B1<span class="pl-pds">"</span></span>, <span class="pl-k">lambda</span> <span class="pl-smi">obj</span>: <span class="pl-c1">len</span>(obj) <span class="pl-k">==</span> <span class="pl-c1">0</span>),
    <span class="pl-s"><span class="pl-pds">"</span>A1<span class="pl-pds">"</span></span>: ProductRule(<span class="pl-s"><span class="pl-pds">"</span>A<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>E|A2|B1<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span><span class="pl-pds">"</span></span>.join, <span class="pl-k">lambda</span> <span class="pl-smi">obj</span>: (obj[<span class="pl-c1">0</span>], obj[<span class="pl-c1">1</span>:])),
    <span class="pl-s"><span class="pl-pds">"</span>B1<span class="pl-pds">"</span></span>: ProductRule(<span class="pl-s"><span class="pl-pds">"</span>B<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>E|B2|A1<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span><span class="pl-pds">"</span></span>.join, <span class="pl-k">lambda</span> <span class="pl-smi">obj</span>: (obj[<span class="pl-c1">0</span>], obj[<span class="pl-c1">1</span>:])),
    <span class="pl-s"><span class="pl-pds">"</span>A2<span class="pl-pds">"</span></span>: ProductRule(<span class="pl-s"><span class="pl-pds">"</span>A<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>E|B1<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span><span class="pl-pds">"</span></span>.join, <span class="pl-k">lambda</span> <span class="pl-smi">obj</span>: (obj[<span class="pl-c1">0</span>], obj[<span class="pl-c1">1</span>:])),
    <span class="pl-s"><span class="pl-pds">"</span>B2<span class="pl-pds">"</span></span>: ProductRule(<span class="pl-s"><span class="pl-pds">"</span>B<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>E|A1<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span><span class="pl-pds">"</span></span>.join, <span class="pl-k">lambda</span> <span class="pl-smi">obj</span>: (obj[<span class="pl-c1">0</span>], obj[<span class="pl-c1">1</span>:])),
    <span class="pl-s"><span class="pl-pds">"</span>E|A2|B1<span class="pl-pds">"</span></span>: UnionRule(<span class="pl-s"><span class="pl-pds">"</span>E<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>A2|B1<span class="pl-pds">"</span></span>, <span class="pl-k">lambda</span> <span class="pl-smi">obj</span>: <span class="pl-c1">len</span>(obj) <span class="pl-k">==</span> <span class="pl-c1">0</span>),
    <span class="pl-s"><span class="pl-pds">"</span>E|B2|A1<span class="pl-pds">"</span></span>: UnionRule(<span class="pl-s"><span class="pl-pds">"</span>E<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>B2|A1<span class="pl-pds">"</span></span>, <span class="pl-k">lambda</span> <span class="pl-smi">obj</span>: <span class="pl-c1">len</span>(obj) <span class="pl-k">==</span> <span class="pl-c1">0</span>),
    <span class="pl-s"><span class="pl-pds">"</span>A2|B1<span class="pl-pds">"</span></span>: UnionRule(<span class="pl-s"><span class="pl-pds">"</span>A2<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>B1<span class="pl-pds">"</span></span>, <span class="pl-k">lambda</span> <span class="pl-smi">obj</span>: obj[<span class="pl-c1">0</span>] <span class="pl-k">==</span> <span class="pl-s"><span class="pl-pds">"</span>A<span class="pl-pds">"</span></span>),
    <span class="pl-s"><span class="pl-pds">"</span>B2|A1<span class="pl-pds">"</span></span>: UnionRule(<span class="pl-s"><span class="pl-pds">"</span>B2<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>A1<span class="pl-pds">"</span></span>, <span class="pl-k">lambda</span> <span class="pl-smi">obj</span>: obj[<span class="pl-c1">0</span>] <span class="pl-k">==</span> <span class="pl-s"><span class="pl-pds">"</span>B<span class="pl-pds">"</span></span>),
    <span class="pl-s"><span class="pl-pds">"</span>A1|B1<span class="pl-pds">"</span></span>: UnionRule(<span class="pl-s"><span class="pl-pds">"</span>A1<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>B1<span class="pl-pds">"</span></span>, <span class="pl-k">lambda</span> <span class="pl-smi">obj</span>: obj[<span class="pl-c1">0</span>] <span class="pl-k">==</span> <span class="pl-s"><span class="pl-pds">"</span>A<span class="pl-pds">"</span></span>),
    <span class="pl-s"><span class="pl-pds">"</span>E|B1<span class="pl-pds">"</span></span>: UnionRule(<span class="pl-s"><span class="pl-pds">"</span>E<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>B1<span class="pl-pds">"</span></span>, <span class="pl-k">lambda</span> <span class="pl-smi">obj</span>: <span class="pl-c1">len</span>(obj) <span class="pl-k">==</span> <span class="pl-c1">0</span>),
    <span class="pl-s"><span class="pl-pds">"</span>E|A1<span class="pl-pds">"</span></span>: UnionRule(<span class="pl-s"><span class="pl-pds">"</span>E<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>A1<span class="pl-pds">"</span></span>, <span class="pl-k">lambda</span> <span class="pl-smi">obj</span>: <span class="pl-c1">len</span>(obj) <span class="pl-k">==</span> <span class="pl-c1">0</span>),
}</pre></div>
<h3>
<a id="user-content-ab-palindrome-et-abc-palindrome" class="anchor" href="http://localhost:6419/#ab-palindrome-et-abc-palindrome" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>AB-Palindrome et ABC-Palindrome</h3>
<pre><code>Word = Empty U (A X Word X A) U (B X Word X B) U A U B
</code></pre>
<div class="highlight highlight-source-python"><pre>abPalindromeGram <span class="pl-k">=</span> {
    <span class="pl-s"><span class="pl-pds">"</span>E<span class="pl-pds">"</span></span>: EpsilonRule(<span class="pl-s"><span class="pl-pds">"</span><span class="pl-pds">"</span></span>),
    <span class="pl-s"><span class="pl-pds">"</span>A<span class="pl-pds">"</span></span>: SingletonRule(<span class="pl-s"><span class="pl-pds">"</span>A<span class="pl-pds">"</span></span>),
    <span class="pl-s"><span class="pl-pds">"</span>B<span class="pl-pds">"</span></span>: SingletonRule(<span class="pl-s"><span class="pl-pds">"</span>B<span class="pl-pds">"</span></span>),
    <span class="pl-s"><span class="pl-pds">"</span>W<span class="pl-pds">"</span></span>: UnionRule(<span class="pl-s"><span class="pl-pds">"</span>E<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>A|B|AWA|BWB<span class="pl-pds">"</span></span>, <span class="pl-k">lambda</span> <span class="pl-smi">obj</span>: <span class="pl-c1">len</span>(obj) <span class="pl-k">==</span> <span class="pl-c1">0</span>),
    <span class="pl-s"><span class="pl-pds">"</span>A|B|AWA|BWB<span class="pl-pds">"</span></span>: UnionRule(<span class="pl-s"><span class="pl-pds">"</span>A<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>B|AWA|BWB<span class="pl-pds">"</span></span>, <span class="pl-k">lambda</span> <span class="pl-smi">obj</span>: obj <span class="pl-k">==</span> <span class="pl-s"><span class="pl-pds">"</span>A<span class="pl-pds">"</span></span>),
    <span class="pl-s"><span class="pl-pds">"</span>B|AWA|BWB<span class="pl-pds">"</span></span>: UnionRule(<span class="pl-s"><span class="pl-pds">"</span>B<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>AWA|BWB<span class="pl-pds">"</span></span>, <span class="pl-k">lambda</span> <span class="pl-smi">obj</span>: obj <span class="pl-k">==</span> <span class="pl-s"><span class="pl-pds">"</span>B<span class="pl-pds">"</span></span>),
    <span class="pl-s"><span class="pl-pds">"</span>AWA|BWB<span class="pl-pds">"</span></span>: UnionRule(<span class="pl-s"><span class="pl-pds">"</span>AWA<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>BWB<span class="pl-pds">"</span></span>, <span class="pl-k">lambda</span> <span class="pl-smi">obj</span>: obj[<span class="pl-c1">0</span>] <span class="pl-k">==</span> <span class="pl-s"><span class="pl-pds">"</span>A<span class="pl-pds">"</span></span>),
    <span class="pl-s"><span class="pl-pds">"</span>AW<span class="pl-pds">"</span></span>: ProductRule(<span class="pl-s"><span class="pl-pds">"</span>A<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>W<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span><span class="pl-pds">"</span></span>.join, <span class="pl-k">lambda</span> <span class="pl-smi">obj</span>: (obj[<span class="pl-c1">0</span>], obj[<span class="pl-c1">1</span>:])),
    <span class="pl-s"><span class="pl-pds">"</span>AWA<span class="pl-pds">"</span></span>: ProductRule(<span class="pl-s"><span class="pl-pds">"</span>AW<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>A<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span><span class="pl-pds">"</span></span>.join, <span class="pl-k">lambda</span> <span class="pl-smi">obj</span>: (obj[:<span class="pl-k">-</span><span class="pl-c1">1</span>], obj[<span class="pl-k">-</span><span class="pl-c1">1</span>])),
    <span class="pl-s"><span class="pl-pds">"</span>BW<span class="pl-pds">"</span></span>: ProductRule(<span class="pl-s"><span class="pl-pds">"</span>B<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>W<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span><span class="pl-pds">"</span></span>.join, <span class="pl-k">lambda</span> <span class="pl-smi">obj</span>: (obj[<span class="pl-c1">0</span>], obj[<span class="pl-c1">1</span>:])),
    <span class="pl-s"><span class="pl-pds">"</span>BWB<span class="pl-pds">"</span></span>: ProductRule(<span class="pl-s"><span class="pl-pds">"</span>BW<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>B<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span><span class="pl-pds">"</span></span>.join, <span class="pl-k">lambda</span> <span class="pl-smi">obj</span>: (obj[:<span class="pl-k">-</span><span class="pl-c1">1</span>], obj[<span class="pl-k">-</span><span class="pl-c1">1</span>])),
}</pre></div>
<pre><code>Word = Empty U A U B U C U
             (A X Word X A) U
             (B X Word X B) U
             (C X Word X C)
</code></pre>
<div class="highlight highlight-source-python"><pre>abcPalindromeGram <span class="pl-k">=</span> {
    <span class="pl-s"><span class="pl-pds">"</span>E<span class="pl-pds">"</span></span>: EpsilonRule(<span class="pl-s"><span class="pl-pds">"</span><span class="pl-pds">"</span></span>),
    <span class="pl-s"><span class="pl-pds">"</span>A<span class="pl-pds">"</span></span>: SingletonRule(<span class="pl-s"><span class="pl-pds">"</span>A<span class="pl-pds">"</span></span>),
    <span class="pl-s"><span class="pl-pds">"</span>B<span class="pl-pds">"</span></span>: SingletonRule(<span class="pl-s"><span class="pl-pds">"</span>B<span class="pl-pds">"</span></span>),
    <span class="pl-s"><span class="pl-pds">"</span>C<span class="pl-pds">"</span></span>: SingletonRule(<span class="pl-s"><span class="pl-pds">"</span>C<span class="pl-pds">"</span></span>),
    <span class="pl-s"><span class="pl-pds">"</span>W<span class="pl-pds">"</span></span>: UnionRule(<span class="pl-s"><span class="pl-pds">"</span>E<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>A|B|C|AWA|BWB|CWC<span class="pl-pds">"</span></span>, <span class="pl-k">lambda</span> <span class="pl-smi">obj</span>: <span class="pl-c1">len</span>(obj) <span class="pl-k">==</span> <span class="pl-c1">0</span>),
    <span class="pl-s"><span class="pl-pds">"</span>A|B|C|AWA|BWB|CWC<span class="pl-pds">"</span></span>: UnionRule(<span class="pl-s"><span class="pl-pds">"</span>A<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>B|C|AWA|BWB|CWC<span class="pl-pds">"</span></span>, <span class="pl-k">lambda</span> <span class="pl-smi">obj</span>: obj <span class="pl-k">==</span> <span class="pl-s"><span class="pl-pds">"</span>A<span class="pl-pds">"</span></span>),
    <span class="pl-s"><span class="pl-pds">"</span>B|C|AWA|BWB|CWC<span class="pl-pds">"</span></span>: UnionRule(<span class="pl-s"><span class="pl-pds">"</span>B<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>C|AWA|BWB|CWC<span class="pl-pds">"</span></span>, <span class="pl-k">lambda</span> <span class="pl-smi">obj</span>: obj <span class="pl-k">==</span> <span class="pl-s"><span class="pl-pds">"</span>B<span class="pl-pds">"</span></span>),
    <span class="pl-s"><span class="pl-pds">"</span>C|AWA|BWB|CWC<span class="pl-pds">"</span></span>: UnionRule(<span class="pl-s"><span class="pl-pds">"</span>C<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>AWA|BWB|CWC<span class="pl-pds">"</span></span>, <span class="pl-k">lambda</span> <span class="pl-smi">obj</span>: obj <span class="pl-k">==</span> <span class="pl-s"><span class="pl-pds">"</span>C<span class="pl-pds">"</span></span>),
    <span class="pl-s"><span class="pl-pds">"</span>AWA|BWB|CWC<span class="pl-pds">"</span></span>: UnionRule(<span class="pl-s"><span class="pl-pds">"</span>AWA<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>BWB|CWC<span class="pl-pds">"</span></span>, <span class="pl-k">lambda</span> <span class="pl-smi">obj</span>: obj[<span class="pl-c1">0</span>] <span class="pl-k">==</span> <span class="pl-s"><span class="pl-pds">"</span>A<span class="pl-pds">"</span></span>),
    <span class="pl-s"><span class="pl-pds">"</span>BWB|CWC<span class="pl-pds">"</span></span>: UnionRule(<span class="pl-s"><span class="pl-pds">"</span>BWB<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>CWC<span class="pl-pds">"</span></span>, <span class="pl-k">lambda</span> <span class="pl-smi">obj</span>: obj[<span class="pl-c1">0</span>] <span class="pl-k">==</span> <span class="pl-s"><span class="pl-pds">"</span>B<span class="pl-pds">"</span></span>),
    <span class="pl-s"><span class="pl-pds">"</span>AW<span class="pl-pds">"</span></span>: ProductRule(<span class="pl-s"><span class="pl-pds">"</span>A<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>W<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span><span class="pl-pds">"</span></span>.join, <span class="pl-k">lambda</span> <span class="pl-smi">obj</span>: (obj[<span class="pl-c1">0</span>], obj[<span class="pl-c1">1</span>:])),
    <span class="pl-s"><span class="pl-pds">"</span>AWA<span class="pl-pds">"</span></span>: ProductRule(<span class="pl-s"><span class="pl-pds">"</span>AW<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>A<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span><span class="pl-pds">"</span></span>.join, <span class="pl-k">lambda</span> <span class="pl-smi">obj</span>: (obj[:<span class="pl-k">-</span><span class="pl-c1">1</span>], obj[<span class="pl-k">-</span><span class="pl-c1">1</span>])),
    <span class="pl-s"><span class="pl-pds">"</span>BW<span class="pl-pds">"</span></span>: ProductRule(<span class="pl-s"><span class="pl-pds">"</span>B<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>W<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span><span class="pl-pds">"</span></span>.join, <span class="pl-k">lambda</span> <span class="pl-smi">obj</span>: (obj[<span class="pl-c1">0</span>], obj[<span class="pl-c1">1</span>:])),
    <span class="pl-s"><span class="pl-pds">"</span>BWB<span class="pl-pds">"</span></span>: ProductRule(<span class="pl-s"><span class="pl-pds">"</span>BW<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>B<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span><span class="pl-pds">"</span></span>.join, <span class="pl-k">lambda</span> <span class="pl-smi">obj</span>: (obj[:<span class="pl-k">-</span><span class="pl-c1">1</span>], obj[<span class="pl-k">-</span><span class="pl-c1">1</span>])),
    <span class="pl-s"><span class="pl-pds">"</span>CW<span class="pl-pds">"</span></span>: ProductRule(<span class="pl-s"><span class="pl-pds">"</span>C<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>W<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span><span class="pl-pds">"</span></span>.join, <span class="pl-k">lambda</span> <span class="pl-smi">obj</span>: (obj[<span class="pl-c1">0</span>], obj[<span class="pl-c1">1</span>:])),
    <span class="pl-s"><span class="pl-pds">"</span>CWC<span class="pl-pds">"</span></span>: ProductRule(<span class="pl-s"><span class="pl-pds">"</span>CW<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>C<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span><span class="pl-pds">"</span></span>.join, <span class="pl-k">lambda</span> <span class="pl-smi">obj</span>: (obj[:<span class="pl-k">-</span><span class="pl-c1">1</span>], obj[<span class="pl-k">-</span><span class="pl-c1">1</span>])),
}</pre></div>
<h3>
<a id="user-content-equal-ab-count-grammar" class="anchor" href="http://localhost:6419/#equal-ab-count-grammar" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Equal AB Count Grammar</h3>
<div class="highlight highlight-source-python"><pre>abEqualCountGram <span class="pl-k">=</span> {
    <span class="pl-s"><span class="pl-pds">"</span>E<span class="pl-pds">"</span></span>: EpsilonRule(<span class="pl-s"><span class="pl-pds">"</span><span class="pl-pds">"</span></span>),
    <span class="pl-s"><span class="pl-pds">"</span>A<span class="pl-pds">"</span></span>: SingletonRule(<span class="pl-s"><span class="pl-pds">"</span>A<span class="pl-pds">"</span></span>),
    <span class="pl-s"><span class="pl-pds">"</span>B<span class="pl-pds">"</span></span>: SingletonRule(<span class="pl-s"><span class="pl-pds">"</span>B<span class="pl-pds">"</span></span>),
    <span class="pl-s"><span class="pl-pds">"</span>W<span class="pl-pds">"</span></span>: UnionRule(<span class="pl-s"><span class="pl-pds">"</span>AbW|BaW<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>E<span class="pl-pds">"</span></span>, <span class="pl-k">lambda</span> <span class="pl-smi">obj</span>: <span class="pl-c1">len</span>(obj) <span class="pl-k">&gt;</span> <span class="pl-c1">0</span>),
    <span class="pl-s"><span class="pl-pds">"</span>a<span class="pl-pds">"</span></span>: UnionRule(<span class="pl-s"><span class="pl-pds">"</span>A<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>Baa<span class="pl-pds">"</span></span>, <span class="pl-k">lambda</span> <span class="pl-smi">obj</span>: obj <span class="pl-k">==</span> <span class="pl-s"><span class="pl-pds">"</span>A<span class="pl-pds">"</span></span>),
    <span class="pl-s"><span class="pl-pds">"</span>b<span class="pl-pds">"</span></span>: UnionRule(<span class="pl-s"><span class="pl-pds">"</span>B<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>Abb<span class="pl-pds">"</span></span>, <span class="pl-k">lambda</span> <span class="pl-smi">obj</span>: obj <span class="pl-k">==</span> <span class="pl-s"><span class="pl-pds">"</span>B<span class="pl-pds">"</span></span>),
    <span class="pl-s"><span class="pl-pds">"</span>AbW|BaW<span class="pl-pds">"</span></span>: UnionRule(<span class="pl-s"><span class="pl-pds">"</span>AbW<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>BaW<span class="pl-pds">"</span></span>, <span class="pl-k">lambda</span> <span class="pl-smi">obj</span>: obj[<span class="pl-c1">0</span>] <span class="pl-k">==</span> <span class="pl-s"><span class="pl-pds">"</span>A<span class="pl-pds">"</span></span>),
    <span class="pl-s"><span class="pl-pds">"</span>AbW<span class="pl-pds">"</span></span>: ProductRule(<span class="pl-s"><span class="pl-pds">"</span>A<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>bW<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span><span class="pl-pds">"</span></span>.join, <span class="pl-k">lambda</span> <span class="pl-smi">obj</span>: (obj[<span class="pl-c1">0</span>], obj[<span class="pl-c1">1</span>:])),
    <span class="pl-s"><span class="pl-pds">"</span>Abb<span class="pl-pds">"</span></span>: ProductRule(<span class="pl-s"><span class="pl-pds">"</span>A<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>bb<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span><span class="pl-pds">"</span></span>.join, <span class="pl-k">lambda</span> <span class="pl-smi">obj</span>: (obj[<span class="pl-c1">0</span>], obj[<span class="pl-c1">1</span>:])),
    <span class="pl-s"><span class="pl-pds">"</span>Baa<span class="pl-pds">"</span></span>: ProductRule(<span class="pl-s"><span class="pl-pds">"</span>B<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>aa<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span><span class="pl-pds">"</span></span>.join, <span class="pl-k">lambda</span> <span class="pl-smi">obj</span>: (obj[<span class="pl-c1">0</span>], obj[<span class="pl-c1">1</span>:])),
    <span class="pl-s"><span class="pl-pds">"</span>BaW<span class="pl-pds">"</span></span>: ProductRule(<span class="pl-s"><span class="pl-pds">"</span>B<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>aW<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span><span class="pl-pds">"</span></span>.join, <span class="pl-k">lambda</span> <span class="pl-smi">obj</span>: (obj[<span class="pl-c1">0</span>], obj[<span class="pl-c1">1</span>:])),
    <span class="pl-s"><span class="pl-pds">"</span>bW<span class="pl-pds">"</span></span>: ProductRule(<span class="pl-s"><span class="pl-pds">"</span>b<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>W<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span><span class="pl-pds">"</span></span>.join, <span class="pl-k">lambda</span> <span class="pl-smi">obj</span>: split_on_acc(obj, <span class="pl-s"><span class="pl-pds">"</span>B<span class="pl-pds">"</span></span>, <span class="pl-c1">1</span>)),
    <span class="pl-s"><span class="pl-pds">"</span>aW<span class="pl-pds">"</span></span>: ProductRule(<span class="pl-s"><span class="pl-pds">"</span>a<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>W<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span><span class="pl-pds">"</span></span>.join, <span class="pl-k">lambda</span> <span class="pl-smi">obj</span>: split_on_acc(obj, <span class="pl-s"><span class="pl-pds">"</span>A<span class="pl-pds">"</span></span>, <span class="pl-c1">1</span>)),
    <span class="pl-s"><span class="pl-pds">"</span>aa<span class="pl-pds">"</span></span>: ProductRule(<span class="pl-s"><span class="pl-pds">"</span>a<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>a<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span><span class="pl-pds">"</span></span>.join, <span class="pl-k">lambda</span> <span class="pl-smi">obj</span>: split_on_acc(obj, <span class="pl-s"><span class="pl-pds">"</span>A<span class="pl-pds">"</span></span>, <span class="pl-c1">1</span>)),
    <span class="pl-s"><span class="pl-pds">"</span>bb<span class="pl-pds">"</span></span>: ProductRule(<span class="pl-s"><span class="pl-pds">"</span>b<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>b<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span><span class="pl-pds">"</span></span>.join, <span class="pl-k">lambda</span> <span class="pl-smi">obj</span>: split_on_acc(obj, <span class="pl-s"><span class="pl-pds">"</span>B<span class="pl-pds">"</span></span>, <span class="pl-c1">1</span>)),
}</pre></div>
<h2>
<a id="user-content-check-if-all-non-terminals-are-defined-q7" class="anchor" href="http://localhost:6419/#check-if-all-non-terminals-are-defined-q7" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Check if all non-terminals are defined (Q7)</h2>
<div class="highlight highlight-source-python"><pre><span class="pl-k">def</span> <span class="pl-en">check_grammar</span>(<span class="pl-smi">grammar</span>):
    non_terminals <span class="pl-k">=</span> grammar.keys()
    <span class="pl-k">for</span> name, rule <span class="pl-k">in</span> grammar.items():
        <span class="pl-k">if</span> <span class="pl-c1">isinstance</span>(rule, ConstructorRule):
            <span class="pl-k">for</span> nt <span class="pl-k">in</span> [rule._fst, rule._snd]:
                <span class="pl-k">if</span> nt <span class="pl-k">not</span> <span class="pl-k">in</span> non_terminals:
                    <span class="pl-c1">print</span>(<span class="pl-s"><span class="pl-pds">'</span>"<span class="pl-c1">{}</span>" not found in grammar!<span class="pl-pds">'</span></span>.format(nt))
                    <span class="pl-k">return</span> <span class="pl-c1">False</span>
    <span class="pl-k">return</span> <span class="pl-c1">True</span></pre></div>
<h2>
<a id="user-content-valuations-q8" class="anchor" href="http://localhost:6419/#valuations-q8" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Valuations (Q8)</h2>
<h3>
<a id="user-content-treegram" class="anchor" href="http://localhost:6419/#treegram" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>treeGram</h3>
<table>
<thead>
<tr>
<th>n</th>
<th>Tree</th>
<th>Node</th>
<th>Leaf</th>
</tr>
</thead>
<tbody>
<tr>
<td>0</td>
<td>∞</td>
<td>∞</td>
<td>∞</td>
</tr>
<tr>
<td>1</td>
<td>∞</td>
<td>∞</td>
<td>1</td>
</tr>
<tr>
<td>2</td>
<td>1</td>
<td>∞</td>
<td>1</td>
</tr>
<tr>
<td>3</td>
<td>1</td>
<td>2</td>
<td>1</td>
</tr>
<tr>
<td>4</td>
<td>1</td>
<td>2</td>
<td>1</td>
</tr>
<tr>
<td>final</td>
<td>1</td>
<td>2</td>
<td>1</td>
</tr>
</tbody>
</table>
<h3>
<a id="user-content-fibogram" class="anchor" href="http://localhost:6419/#fibogram" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>fiboGram</h3>
<table>
<thead>
<tr>
<th>n</th>
<th>Fib</th>
<th>Cas1</th>
<th>Cas2</th>
<th>Vide</th>
<th>CasAu</th>
<th>AtomA</th>
<th>AtomB</th>
<th>CasBAu</th>
</tr>
</thead>
<tbody>
<tr>
<td>0</td>
<td>∞</td>
<td>∞</td>
<td>∞</td>
<td>∞</td>
<td>∞</td>
<td>∞</td>
<td>∞</td>
<td>∞</td>
</tr>
<tr>
<td>1</td>
<td>∞</td>
<td>∞</td>
<td>∞</td>
<td>0</td>
<td>∞</td>
<td>1</td>
<td>1</td>
<td>∞</td>
</tr>
<tr>
<td>2</td>
<td>0</td>
<td>∞</td>
<td>1</td>
<td>0</td>
<td>∞</td>
<td>1</td>
<td>1</td>
<td>∞</td>
</tr>
<tr>
<td>3</td>
<td>0</td>
<td>1</td>
<td>1</td>
<td>0</td>
<td>1</td>
<td>1</td>
<td>1</td>
<td>∞</td>
</tr>
<tr>
<td>4</td>
<td>0</td>
<td>1</td>
<td>1</td>
<td>0</td>
<td>1</td>
<td>1</td>
<td>1</td>
<td>2</td>
</tr>
<tr>
<td>5</td>
<td>0</td>
<td>1</td>
<td>1</td>
<td>0</td>
<td>1</td>
<td>1</td>
<td>1</td>
<td>2</td>
</tr>
<tr>
<td>final</td>
<td>0</td>
<td>1</td>
<td>1</td>
<td>0</td>
<td>1</td>
<td>1</td>
<td>1</td>
<td>2</td>
</tr>
</tbody>
</table>
<h3>
<a id="user-content-abgram" class="anchor" href="http://localhost:6419/#abgram" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>abGram</h3>
<table>
<thead>
<tr>
<th>n</th>
<th>E</th>
<th>A</th>
<th>B</th>
<th>W</th>
<th>AW</th>
<th>BW</th>
<th>AW|BW</th>
</tr>
</thead>
<tbody>
<tr>
<td>0</td>
<td>∞</td>
<td>∞</td>
<td>∞</td>
<td>∞</td>
<td>∞</td>
<td>∞</td>
<td>∞</td>
</tr>
<tr>
<td>1</td>
<td>0</td>
<td>1</td>
<td>1</td>
<td>∞</td>
<td>∞</td>
<td>∞</td>
<td>∞</td>
</tr>
<tr>
<td>2</td>
<td>0</td>
<td>1</td>
<td>1</td>
<td>0</td>
<td>∞</td>
<td>∞</td>
<td>∞</td>
</tr>
<tr>
<td>3</td>
<td>0</td>
<td>1</td>
<td>1</td>
<td>0</td>
<td>1</td>
<td>1</td>
<td>∞</td>
</tr>
<tr>
<td>4</td>
<td>0</td>
<td>1</td>
<td>1</td>
<td>0</td>
<td>1</td>
<td>1</td>
<td>1</td>
</tr>
<tr>
<td>5</td>
<td>0</td>
<td>1</td>
<td>1</td>
<td>0</td>
<td>1</td>
<td>1</td>
<td>1</td>
</tr>
<tr>
<td>final</td>
<td>0</td>
<td>1</td>
<td>1</td>
<td>0</td>
<td>1</td>
<td>1</td>
<td>1</td>
</tr>
</tbody>
</table>
<h3>
<a id="user-content-dyckgram" class="anchor" href="http://localhost:6419/#dyckgram" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>dyckGram</h3>
<table>
<thead>
<tr>
<th>n</th>
<th>E</th>
<th>(</th>
<th>)</th>
<th>W</th>
<th>(W)W</th>
<th>(W)</th>
<th>(W</th>
</tr>
</thead>
<tbody>
<tr>
<td>0</td>
<td>∞</td>
<td>∞</td>
<td>∞</td>
<td>∞</td>
<td>∞</td>
<td>∞</td>
<td>∞</td>
</tr>
<tr>
<td>1</td>
<td>0</td>
<td>1</td>
<td>1</td>
<td>∞</td>
<td>∞</td>
<td>∞</td>
<td>∞</td>
</tr>
<tr>
<td>2</td>
<td>0</td>
<td>1</td>
<td>1</td>
<td>0</td>
<td>∞</td>
<td>∞</td>
<td>∞</td>
</tr>
<tr>
<td>3</td>
<td>0</td>
<td>1</td>
<td>1</td>
<td>0</td>
<td>∞</td>
<td>∞</td>
<td>1</td>
</tr>
<tr>
<td>4</td>
<td>0</td>
<td>1</td>
<td>1</td>
<td>0</td>
<td>∞</td>
<td>2</td>
<td>1</td>
</tr>
<tr>
<td>5</td>
<td>0</td>
<td>1</td>
<td>1</td>
<td>0</td>
<td>2</td>
<td>2</td>
<td>1</td>
</tr>
<tr>
<td>6</td>
<td>0</td>
<td>1</td>
<td>1</td>
<td>0</td>
<td>2</td>
<td>2</td>
<td>1</td>
</tr>
<tr>
<td>final</td>
<td>0</td>
<td>1</td>
<td>1</td>
<td>0</td>
<td>2</td>
<td>2</td>
<td>1</td>
</tr>
</tbody>
</table>
<h3>
<a id="user-content-max3gram" class="anchor" href="http://localhost:6419/#max3gram" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>max3Gram</h3>
<table>
<thead>
<tr>
<th>n</th>
<th>E</th>
<th>A</th>
<th>B</th>
<th>W</th>
<th>A1</th>
<th>B1</th>
<th>A2</th>
<th>B2</th>
<th>E|A2|B1</th>
<th>E|B2|A1</th>
<th>A2|B1</th>
<th>B2|A1</th>
<th>A1|B1</th>
<th>E|B1</th>
<th>E|A1</th>
</tr>
</thead>
<tbody>
<tr>
<td>0</td>
<td>∞</td>
<td>∞</td>
<td>∞</td>
<td>∞</td>
<td>∞</td>
<td>∞</td>
<td>∞</td>
<td>∞</td>
<td>∞</td>
<td>∞</td>
<td>∞</td>
<td>∞</td>
<td>∞</td>
<td>∞</td>
<td>∞</td>
</tr>
<tr>
<td>1</td>
<td>0</td>
<td>1</td>
<td>1</td>
<td>∞</td>
<td>∞</td>
<td>∞</td>
<td>∞</td>
<td>∞</td>
<td>∞</td>
<td>∞</td>
<td>∞</td>
<td>∞</td>
<td>∞</td>
<td>∞</td>
<td>∞</td>
</tr>
<tr>
<td>2</td>
<td>0</td>
<td>1</td>
<td>1</td>
<td>0</td>
<td>∞</td>
<td>∞</td>
<td>∞</td>
<td>∞</td>
<td>0</td>
<td>0</td>
<td>∞</td>
<td>∞</td>
<td>∞</td>
<td>0</td>
<td>0</td>
</tr>
<tr>
<td>3</td>
<td>0</td>
<td>1</td>
<td>1</td>
<td>0</td>
<td>1</td>
<td>1</td>
<td>1</td>
<td>1</td>
<td>0</td>
<td>0</td>
<td>∞</td>
<td>∞</td>
<td>∞</td>
<td>0</td>
<td>0</td>
</tr>
<tr>
<td>4</td>
<td>0</td>
<td>1</td>
<td>1</td>
<td>0</td>
<td>1</td>
<td>1</td>
<td>1</td>
<td>1</td>
<td>0</td>
<td>0</td>
<td>1</td>
<td>1</td>
<td>1</td>
<td>0</td>
<td>0</td>
</tr>
<tr>
<td>5</td>
<td>0</td>
<td>1</td>
<td>1</td>
<td>0</td>
<td>1</td>
<td>1</td>
<td>1</td>
<td>1</td>
<td>0</td>
<td>0</td>
<td>1</td>
<td>1</td>
<td>1</td>
<td>0</td>
<td>0</td>
</tr>
<tr>
<td>final</td>
<td>0</td>
<td>1</td>
<td>1</td>
<td>0</td>
<td>1</td>
<td>1</td>
<td>1</td>
<td>1</td>
<td>0</td>
<td>0</td>
<td>1</td>
<td>1</td>
<td>1</td>
<td>0</td>
<td>0</td>
</tr>
</tbody>
</table>
<h3>
<a id="user-content-abpalindromegram" class="anchor" href="http://localhost:6419/#abpalindromegram" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>abPalindromeGram</h3>
<table>
<thead>
<tr>
<th>n</th>
<th>E</th>
<th>A</th>
<th>B</th>
<th>W</th>
<th>A|B|AWA|BWB</th>
<th>B|AWA|BWB</th>
<th>AWA|BWB</th>
<th>AW</th>
<th>AWA</th>
<th>BW</th>
<th>BWB</th>
</tr>
</thead>
<tbody>
<tr>
<td>0</td>
<td>∞</td>
<td>∞</td>
<td>∞</td>
<td>∞</td>
<td>∞</td>
<td>∞</td>
<td>∞</td>
<td>∞</td>
<td>∞</td>
<td>∞</td>
<td>∞</td>
</tr>
<tr>
<td>1</td>
<td>0</td>
<td>1</td>
<td>1</td>
<td>∞</td>
<td>∞</td>
<td>∞</td>
<td>∞</td>
<td>∞</td>
<td>∞</td>
<td>∞</td>
<td>∞</td>
</tr>
<tr>
<td>2</td>
<td>0</td>
<td>1</td>
<td>1</td>
<td>0</td>
<td>1</td>
<td>1</td>
<td>∞</td>
<td>∞</td>
<td>∞</td>
<td>∞</td>
<td>∞</td>
</tr>
<tr>
<td>3</td>
<td>0</td>
<td>1</td>
<td>1</td>
<td>0</td>
<td>1</td>
<td>1</td>
<td>∞</td>
<td>1</td>
<td>∞</td>
<td>1</td>
<td>∞</td>
</tr>
<tr>
<td>4</td>
<td>0</td>
<td>1</td>
<td>1</td>
<td>0</td>
<td>1</td>
<td>1</td>
<td>∞</td>
<td>1</td>
<td>2</td>
<td>1</td>
<td>2</td>
</tr>
<tr>
<td>5</td>
<td>0</td>
<td>1</td>
<td>1</td>
<td>0</td>
<td>1</td>
<td>1</td>
<td>2</td>
<td>1</td>
<td>2</td>
<td>1</td>
<td>2</td>
</tr>
<tr>
<td>6</td>
<td>0</td>
<td>1</td>
<td>1</td>
<td>0</td>
<td>1</td>
<td>1</td>
<td>2</td>
<td>1</td>
<td>2</td>
<td>1</td>
<td>2</td>
</tr>
<tr>
<td>final</td>
<td>0</td>
<td>1</td>
<td>1</td>
<td>0</td>
<td>1</td>
<td>1</td>
<td>2</td>
<td>1</td>
<td>2</td>
<td>1</td>
<td>2</td>
</tr>
</tbody>
</table>
<h3>
<a id="user-content-abcpalindromegram" class="anchor" href="http://localhost:6419/#abcpalindromegram" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>abcPalindromeGram</h3>
<table>
<thead>
<tr>
<th>n</th>
<th>E</th>
<th>A</th>
<th>B</th>
<th>C</th>
<th>W</th>
<th>A|B|C|AWA|BWB|CWC</th>
<th>B|C|AWA|BWB|CWC</th>
<th>C|AWA|BWB|CWC</th>
<th>AWA|BWB|CWC</th>
<th>BWB|CWC</th>
<th>AW</th>
<th>AWA</th>
<th>BW</th>
<th>BWB</th>
<th>CW</th>
<th>CWC</th>
</tr>
</thead>
<tbody>
<tr>
<td>0</td>
<td>∞</td>
<td>∞</td>
<td>∞</td>
<td>∞</td>
<td>∞</td>
<td>∞</td>
<td>∞</td>
<td>∞</td>
<td>∞</td>
<td>∞</td>
<td>∞</td>
<td>∞</td>
<td>∞</td>
<td>∞</td>
<td>∞</td>
<td>∞</td>
</tr>
<tr>
<td>1</td>
<td>0</td>
<td>1</td>
<td>1</td>
<td>1</td>
<td>∞</td>
<td>∞</td>
<td>∞</td>
<td>∞</td>
<td>∞</td>
<td>∞</td>
<td>∞</td>
<td>∞</td>
<td>∞</td>
<td>∞</td>
<td>∞</td>
<td>∞</td>
</tr>
<tr>
<td>2</td>
<td>0</td>
<td>1</td>
<td>1</td>
<td>1</td>
<td>0</td>
<td>1</td>
<td>1</td>
<td>1</td>
<td>∞</td>
<td>∞</td>
<td>∞</td>
<td>∞</td>
<td>∞</td>
<td>∞</td>
<td>∞</td>
<td>∞</td>
</tr>
<tr>
<td>3</td>
<td>0</td>
<td>1</td>
<td>1</td>
<td>1</td>
<td>0</td>
<td>1</td>
<td>1</td>
<td>1</td>
<td>∞</td>
<td>∞</td>
<td>1</td>
<td>∞</td>
<td>1</td>
<td>∞</td>
<td>1</td>
<td>∞</td>
</tr>
<tr>
<td>4</td>
<td>0</td>
<td>1</td>
<td>1</td>
<td>1</td>
<td>0</td>
<td>1</td>
<td>1</td>
<td>1</td>
<td>∞</td>
<td>∞</td>
<td>1</td>
<td>2</td>
<td>1</td>
<td>2</td>
<td>1</td>
<td>2</td>
</tr>
<tr>
<td>5</td>
<td>0</td>
<td>1</td>
<td>1</td>
<td>1</td>
<td>0</td>
<td>1</td>
<td>1</td>
<td>1</td>
<td>2</td>
<td>2</td>
<td>1</td>
<td>2</td>
<td>1</td>
<td>2</td>
<td>1</td>
<td>2</td>
</tr>
<tr>
<td>6</td>
<td>0</td>
<td>1</td>
<td>1</td>
<td>1</td>
<td>0</td>
<td>1</td>
<td>1</td>
<td>1</td>
<td>2</td>
<td>2</td>
<td>1</td>
<td>2</td>
<td>1</td>
<td>2</td>
<td>1</td>
<td>2</td>
</tr>
<tr>
<td>final</td>
<td>0</td>
<td>1</td>
<td>1</td>
<td>1</td>
<td>0</td>
<td>1</td>
<td>1</td>
<td>1</td>
<td>2</td>
<td>2</td>
<td>1</td>
<td>2</td>
<td>1</td>
<td>2</td>
<td>1</td>
<td>2</td>
</tr>
</tbody>
</table>
<h3>
<a id="user-content-abequalcountgram" class="anchor" href="http://localhost:6419/#abequalcountgram" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>abEqualCountGram</h3>
<table>
<thead>
<tr>
<th>n</th>
<th>E</th>
<th>A</th>
<th>B</th>
<th>W</th>
<th>a</th>
<th>b</th>
<th>AbW|BaW</th>
<th>AbW</th>
<th>Abb</th>
<th>Baa</th>
<th>BaW</th>
<th>bW</th>
<th>aW</th>
<th>aa</th>
<th>bb</th>
</tr>
</thead>
<tbody>
<tr>
<td>0</td>
<td>∞</td>
<td>∞</td>
<td>∞</td>
<td>∞</td>
<td>∞</td>
<td>∞</td>
<td>∞</td>
<td>∞</td>
<td>∞</td>
<td>∞</td>
<td>∞</td>
<td>∞</td>
<td>∞</td>
<td>∞</td>
<td>∞</td>
</tr>
<tr>
<td>1</td>
<td>0</td>
<td>1</td>
<td>1</td>
<td>∞</td>
<td>∞</td>
<td>∞</td>
<td>∞</td>
<td>∞</td>
<td>∞</td>
<td>∞</td>
<td>∞</td>
<td>∞</td>
<td>∞</td>
<td>∞</td>
<td>∞</td>
</tr>
<tr>
<td>2</td>
<td>0</td>
<td>1</td>
<td>1</td>
<td>0</td>
<td>1</td>
<td>1</td>
<td>∞</td>
<td>∞</td>
<td>∞</td>
<td>∞</td>
<td>∞</td>
<td>∞</td>
<td>∞</td>
<td>∞</td>
<td>∞</td>
</tr>
<tr>
<td>3</td>
<td>0</td>
<td>1</td>
<td>1</td>
<td>0</td>
<td>1</td>
<td>1</td>
<td>∞</td>
<td>∞</td>
<td>∞</td>
<td>∞</td>
<td>∞</td>
<td>1</td>
<td>1</td>
<td>2</td>
<td>2</td>
</tr>
<tr>
<td>4</td>
<td>0</td>
<td>1</td>
<td>1</td>
<td>0</td>
<td>1</td>
<td>1</td>
<td>∞</td>
<td>2</td>
<td>3</td>
<td>3</td>
<td>2</td>
<td>1</td>
<td>1</td>
<td>2</td>
<td>2</td>
</tr>
<tr>
<td>5</td>
<td>0</td>
<td>1</td>
<td>1</td>
<td>0</td>
<td>1</td>
<td>1</td>
<td>2</td>
<td>2</td>
<td>3</td>
<td>3</td>
<td>2</td>
<td>1</td>
<td>1</td>
<td>2</td>
<td>2</td>
</tr>
<tr>
<td>6</td>
<td>0</td>
<td>1</td>
<td>1</td>
<td>0</td>
<td>1</td>
<td>1</td>
<td>2</td>
<td>2</td>
<td>3</td>
<td>3</td>
<td>2</td>
<td>1</td>
<td>1</td>
<td>2</td>
<td>2</td>
</tr>
<tr>
<td>final</td>
<td>0</td>
<td>1</td>
<td>1</td>
<td>0</td>
<td>1</td>
<td>1</td>
<td>2</td>
<td>2</td>
<td>3</td>
<td>3</td>
<td>2</td>
<td>1</td>
<td>1</td>
<td>2</td>
<td>2</td>
</tr>
</tbody>
</table>
<h2>
<a id="user-content-smallest-objects-q9" class="anchor" href="http://localhost:6419/#smallest-objects-q9" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Smallest objects (Q9)</h2>
<h3>
<a id="user-content-treegram-1" class="anchor" href="http://localhost:6419/#treegram-1" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>treeGram</h3>
<table>
<thead>
<tr>
<th>NT</th>
<th>Min object</th>
<th>Valuation</th>
</tr>
</thead>
<tbody>
<tr>
<td>Tree</td>
<td>"Leaf"</td>
<td>1</td>
</tr>
<tr>
<td>Node</td>
<td>"Node(Leaf,Leaf)"</td>
<td>2</td>
</tr>
<tr>
<td>Leaf</td>
<td>"Leaf"</td>
<td>1</td>
</tr>
</tbody>
</table>
<h3>
<a id="user-content-fibogram-1" class="anchor" href="http://localhost:6419/#fibogram-1" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>fiboGram</h3>
<table>
<thead>
<tr>
<th>NT</th>
<th>Min object</th>
<th>Valuation</th>
</tr>
</thead>
<tbody>
<tr>
<td>Fib</td>
<td>""</td>
<td>0</td>
</tr>
<tr>
<td>Cas1</td>
<td>"A"</td>
<td>1</td>
</tr>
<tr>
<td>Cas2</td>
<td>"B"</td>
<td>1</td>
</tr>
<tr>
<td>Vide</td>
<td>""</td>
<td>0</td>
</tr>
<tr>
<td>CasAu</td>
<td>"A"</td>
<td>1</td>
</tr>
<tr>
<td>AtomA</td>
<td>"A"</td>
<td>1</td>
</tr>
<tr>
<td>AtomB</td>
<td>"B"</td>
<td>1</td>
</tr>
<tr>
<td>CasBAu</td>
<td>"BA"</td>
<td>2</td>
</tr>
</tbody>
</table>
<h3>
<a id="user-content-abgram-1" class="anchor" href="http://localhost:6419/#abgram-1" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>abGram</h3>
<table>
<thead>
<tr>
<th>NT</th>
<th>Min object</th>
<th>Valuation</th>
</tr>
</thead>
<tbody>
<tr>
<td>E</td>
<td>""</td>
<td>0</td>
</tr>
<tr>
<td>A</td>
<td>"A"</td>
<td>1</td>
</tr>
<tr>
<td>B</td>
<td>"B"</td>
<td>1</td>
</tr>
<tr>
<td>W</td>
<td>""</td>
<td>0</td>
</tr>
<tr>
<td>AW</td>
<td>"A"</td>
<td>1</td>
</tr>
<tr>
<td>BW</td>
<td>"B"</td>
<td>1</td>
</tr>
<tr>
<td>AW|BW</td>
<td>"A"</td>
<td>1</td>
</tr>
</tbody>
</table>
<h3>
<a id="user-content-dyckgram-1" class="anchor" href="http://localhost:6419/#dyckgram-1" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>dyckGram</h3>
<table>
<thead>
<tr>
<th>NT</th>
<th>Min object</th>
<th>Valuation</th>
</tr>
</thead>
<tbody>
<tr>
<td>E</td>
<td>""</td>
<td>0</td>
</tr>
<tr>
<td>(</td>
<td>"("</td>
<td>1</td>
</tr>
<tr>
<td>)</td>
<td>")"</td>
<td>1</td>
</tr>
<tr>
<td>W</td>
<td>""</td>
<td>0</td>
</tr>
<tr>
<td>(W)W</td>
<td>"()"</td>
<td>2</td>
</tr>
<tr>
<td>(W)</td>
<td>"()"</td>
<td>2</td>
</tr>
<tr>
<td>(W</td>
<td>"("</td>
<td>1</td>
</tr>
</tbody>
</table>
<h3>
<a id="user-content-max3gram-1" class="anchor" href="http://localhost:6419/#max3gram-1" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>max3Gram</h3>
<table>
<thead>
<tr>
<th>NT</th>
<th>Min object</th>
<th>Valuation</th>
</tr>
</thead>
<tbody>
<tr>
<td>E</td>
<td>""</td>
<td>0</td>
</tr>
<tr>
<td>A</td>
<td>"A"</td>
<td>1</td>
</tr>
<tr>
<td>B</td>
<td>"B"</td>
<td>1</td>
</tr>
<tr>
<td>W</td>
<td>""</td>
<td>0</td>
</tr>
<tr>
<td>A1</td>
<td>"A"</td>
<td>1</td>
</tr>
<tr>
<td>B1</td>
<td>"B"</td>
<td>1</td>
</tr>
<tr>
<td>A2</td>
<td>"A"</td>
<td>1</td>
</tr>
<tr>
<td>B2</td>
<td>"B"</td>
<td>1</td>
</tr>
<tr>
<td>E|A2|B1</td>
<td>""</td>
<td>0</td>
</tr>
<tr>
<td>E|B2|A1</td>
<td>""</td>
<td>0</td>
</tr>
<tr>
<td>A2|B1</td>
<td>"A"</td>
<td>1</td>
</tr>
<tr>
<td>B2|A1</td>
<td>"B"</td>
<td>1</td>
</tr>
<tr>
<td>A1|B1</td>
<td>"A"</td>
<td>1</td>
</tr>
<tr>
<td>E|B1</td>
<td>""</td>
<td>0</td>
</tr>
<tr>
<td>E|A1</td>
<td>""</td>
<td>0</td>
</tr>
</tbody>
</table>
<h3>
<a id="user-content-abpalindromegram-1" class="anchor" href="http://localhost:6419/#abpalindromegram-1" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>abPalindromeGram</h3>
<table>
<thead>
<tr>
<th>NT</th>
<th>Min object</th>
<th>Valuation</th>
</tr>
</thead>
<tbody>
<tr>
<td>E</td>
<td>""</td>
<td>0</td>
</tr>
<tr>
<td>A</td>
<td>"A"</td>
<td>1</td>
</tr>
<tr>
<td>B</td>
<td>"B"</td>
<td>1</td>
</tr>
<tr>
<td>W</td>
<td>""</td>
<td>0</td>
</tr>
<tr>
<td>A|B|AWA|BWB</td>
<td>"A"</td>
<td>1</td>
</tr>
<tr>
<td>B|AWA|BWB</td>
<td>"B"</td>
<td>1</td>
</tr>
<tr>
<td>AWA|BWB</td>
<td>"AA"</td>
<td>2</td>
</tr>
<tr>
<td>AW</td>
<td>"A"</td>
<td>1</td>
</tr>
<tr>
<td>AWA</td>
<td>"AA"</td>
<td>2</td>
</tr>
<tr>
<td>BW</td>
<td>"B"</td>
<td>1</td>
</tr>
<tr>
<td>BWB</td>
<td>"BB"</td>
<td>2</td>
</tr>
</tbody>
</table>
<h3>
<a id="user-content-abcpalindromegram-1" class="anchor" href="http://localhost:6419/#abcpalindromegram-1" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>abcPalindromeGram</h3>
<table>
<thead>
<tr>
<th>NT</th>
<th>Min object</th>
<th>Valuation</th>
</tr>
</thead>
<tbody>
<tr>
<td>E</td>
<td>""</td>
<td>0</td>
</tr>
<tr>
<td>A</td>
<td>"A"</td>
<td>1</td>
</tr>
<tr>
<td>B</td>
<td>"B"</td>
<td>1</td>
</tr>
<tr>
<td>C</td>
<td>"C"</td>
<td>1</td>
</tr>
<tr>
<td>W</td>
<td>""</td>
<td>0</td>
</tr>
<tr>
<td>A|B|C|AWA|BWB|CWC</td>
<td>"A"</td>
<td>1</td>
</tr>
<tr>
<td>B|C|AWA|BWB|CWC</td>
<td>"B"</td>
<td>1</td>
</tr>
<tr>
<td>C|AWA|BWB|CWC</td>
<td>"C"</td>
<td>1</td>
</tr>
<tr>
<td>AWA|BWB|CWC</td>
<td>"AA"</td>
<td>2</td>
</tr>
<tr>
<td>BWB|CWC</td>
<td>"BB"</td>
<td>2</td>
</tr>
<tr>
<td>AW</td>
<td>"A"</td>
<td>1</td>
</tr>
<tr>
<td>AWA</td>
<td>"AA"</td>
<td>2</td>
</tr>
<tr>
<td>BW</td>
<td>"B"</td>
<td>1</td>
</tr>
<tr>
<td>BWB</td>
<td>"BB"</td>
<td>2</td>
</tr>
<tr>
<td>CW</td>
<td>"C"</td>
<td>1</td>
</tr>
<tr>
<td>CWC</td>
<td>"CC"</td>
<td>2</td>
</tr>
</tbody>
</table>
<h3>
<a id="user-content-abequalcountgram-1" class="anchor" href="http://localhost:6419/#abequalcountgram-1" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>abEqualCountGram</h3>
<table>
<thead>
<tr>
<th>NT</th>
<th>Min object</th>
<th>Valuation</th>
</tr>
</thead>
<tbody>
<tr>
<td>E</td>
<td>""</td>
<td>0</td>
</tr>
<tr>
<td>A</td>
<td>"A"</td>
<td>1</td>
</tr>
<tr>
<td>B</td>
<td>"B"</td>
<td>1</td>
</tr>
<tr>
<td>W</td>
<td>""</td>
<td>0</td>
</tr>
<tr>
<td>a</td>
<td>"A"</td>
<td>1</td>
</tr>
<tr>
<td>b</td>
<td>"B"</td>
<td>1</td>
</tr>
<tr>
<td>AbW|BaW</td>
<td>"AB"</td>
<td>2</td>
</tr>
<tr>
<td>AbW</td>
<td>"AB"</td>
<td>2</td>
</tr>
<tr>
<td>Abb</td>
<td>"ABB"</td>
<td>3</td>
</tr>
<tr>
<td>Baa</td>
<td>"BAA"</td>
<td>3</td>
</tr>
<tr>
<td>BaW</td>
<td>"BA"</td>
<td>2</td>
</tr>
<tr>
<td>bW</td>
<td>"B"</td>
<td>1</td>
</tr>
<tr>
<td>aW</td>
<td>"A"</td>
<td>1</td>
</tr>
<tr>
<td>aa</td>
<td>"AA"</td>
<td>2</td>
</tr>
<tr>
<td>bb</td>
<td>"BB"</td>
<td>2</td>
</tr>
</tbody>
</table>
<h2>
<a id="user-content-consistency-tests-q13" class="anchor" href="http://localhost:6419/#consistency-tests-q13" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Consistency tests (Q13)</h2>
<ul>
<li>Unrank-list consistency:</li>
</ul>
<div class="highlight highlight-source-python"><pre><span class="pl-c1">all</span>([rule.unrank(n, i) <span class="pl-k">==</span> obj <span class="pl-k">for</span> i, obj <span class="pl-k">in</span> <span class="pl-c1">enumerate</span>(rule.list(n))])</pre></div>
<ul>
<li>Count-list consistency:</li>
</ul>
<div class="highlight highlight-source-python"><pre><span class="pl-c1">len</span>(rule.list(n)) <span class="pl-k">==</span> rule.count(n)</pre></div>
<ul>
<li>Every element in <code>rule.list(n)</code> must have size <code>n</code>. For string grammars:</li>
</ul>
<div class="highlight highlight-source-python"><pre><span class="pl-c1">all</span>([<span class="pl-c1">len</span>(obj) <span class="pl-k">==</span> n <span class="pl-k">for</span> obj <span class="pl-k">in</span> rule.list(n)])</pre></div>
<ul>
<li>Rank-list consistency:</li>
</ul>
<div class="highlight highlight-source-python"><pre><span class="pl-c1">all</span>([rule.rank(obj) <span class="pl-k">==</span> i <span class="pl-k">for</span> i, obj <span class="pl-k">in</span> <span class="pl-c1">enumerate</span>(rule.list(n))])</pre></div>
<ul>
<li>Unrank-count consistency:</li>
</ul>
<div class="highlight highlight-source-python"><pre><span class="pl-k">try</span>:
    rule.unrank(n, rule.count(n) <span class="pl-k">+</span> <span class="pl-c1">1</span>)
<span class="pl-k">except</span>:
    <span class="pl-k">return</span> <span class="pl-c1">True</span>
<span class="pl-k">return</span> <span class="pl-c1">False</span></pre></div>
<h2>
<a id="user-content-caching-q17" class="anchor" href="http://localhost:6419/#caching-q17" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Caching (Q17)</h2>
<p>Le caching a été implementé avec les annotations python disponibles dans le module natif <code>functools</code>. Ainsi, les méthodes publiques (sans prefix <code>_</code>) devient un appel caché avec l'annotation <code>@functools.lru_cache(maxsize=None)</code>:</p>
<div class="highlight highlight-source-python"><pre><span class="pl-en">@functools.lru_cache</span>(<span class="pl-v">maxsize</span><span class="pl-k">=</span><span class="pl-c1">None</span>)
<span class="pl-k">def</span> <span class="pl-en">rank</span>(<span class="pl-smi"><span class="pl-smi">self</span></span>, <span class="pl-smi">obj</span>):
    <span class="pl-k">return</span> <span class="pl-c1">self</span>._rank(obj)</pre></div>

              </article>
            </div>
          </div>
        </div>
      </div>

    

  </div>
  <div>&nbsp;</div>
  </div><script>
    function showCanonicalImages() {
      var images = document.getElementsByTagName('img');
      if (!images) {
        return;
      }
      for (var index = 0; index < images.length; index++) {
        var image = images[index];
        if (image.getAttribute('data-canonical-src') && image.src !== image.getAttribute('data-canonical-src')) {
          image.src = image.getAttribute('data-canonical-src');
        }
      }
    }

    function scrollToHash() {
      if (location.hash && !document.querySelector(':target')) {
        var element = document.getElementById('user-content-' + location.hash.slice(1));
        if (element) {
           element.scrollIntoView();
        }
      }
    }

    function autorefreshContent(eventSourceUrl) {
      var initialTitle = document.title;
      var contentElement = document.getElementById('grip-content');
      var source = new EventSource(eventSourceUrl);
      var isRendering = false;

      source.onmessage = function(ev) {
        var msg = JSON.parse(ev.data);
        if (msg.updating) {
          isRendering = true;
          document.title = '(Rendering) ' + document.title;
        } else {
          isRendering = false;
          document.title = initialTitle;
          contentElement.innerHTML = msg.content;
          showCanonicalImages();
        }
      }

      source.onerror = function(e) {
        if (e.readyState === EventSource.CLOSED && isRendering) {
          isRendering = false;
          document.title = initialTitle;
        }
      }
    }

    window.onhashchange = function() {
      scrollToHash();
    }

    window.onload = function() {
      scrollToHash();
    }

    showCanonicalImages();

    var autorefreshUrl = document.getElementById('preview-page').getAttribute('data-autorefresh-url');
    if (autorefreshUrl) {
      autorefreshContent(autorefreshUrl);
    }
  </script>

</body><loom-container id="lo-engage-ext-container"><loom-shadow classname="resolved"></loom-shadow></loom-container></html>